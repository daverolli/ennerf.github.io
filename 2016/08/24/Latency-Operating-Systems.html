<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Latency : Operating Systems</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://ennerf.github.io/favicon.ico">

    <script type="text/javascript" src="//ennerf.github.io/themes/ichi/assets/js/vendor/fastclick.js?v=1472263514129"></script>
    <script type="text/javascript" src="//ennerf.github.io/themes/ichi/assets/js/vendor/modernizr.js?v=1472263514129"></script>


    <link rel="stylesheet" type="text/css" href="//ennerf.github.io/themes/ichi/assets/css/normalize.css?v=1472263514129" />
    <link rel="stylesheet" type="text/css" href="//ennerf.github.io/themes/ichi/assets/css/foundation.min.css?v=1472263514129" />
    <!--[if lte IE 8]>
        <link rel="stylesheet" type="text/css" href="//ennerf.github.io/themes/ichi/assets/css/outdatedBrowser.min.css?v=1472263514129">
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="//ennerf.github.io/themes/ichi/assets/fonts/foundation-icons/foundation-icons.css?v=1472263514129" />
    <link rel="stylesheet" type="text/css" href="//ennerf.github.io/themes/ichi/assets/css/styles.css?v=1472263514129" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:300,700,400|Source+Sans+Pro:300,400,600,700,900,300italic,400italic,600italic,700italic,900italic" />

    <link rel="canonical" href="https://ennerf.github.io/2016/08/24/Latency-Operating-Systems.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Software for Robots" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Latency : Operating Systems" />
    <meta property="og:description" content="Introduction TODO: should this blog be about real-time control or on latency with a focus on robotics (motivation section)? Robotic systems tend to be controlled in real-time, which means that a command gets executed within a deadline (fixed period of time). There are hard real-time systems that can never exceed" />
    <meta property="og:url" content="https://ennerf.github.io/2016/08/24/Latency-Operating-Systems.html" />
    <meta property="article:tag" content="jHiccup" />
    <meta property="article:tag" content=" Latency" />
    <meta property="article:tag" content=" Sleep" />
    <meta property="article:tag" content=" Operating System" />
    <meta property="article:tag" content=" Windows" />
    <meta property="article:tag" content=" OSX" />
    <meta property="article:tag" content=" Ubuntu" />
    <meta property="article:tag" content=" Scientific Linux" />
    <meta property="article:tag" content=" Real-Time" />
    <meta property="article:tag" content=" Control" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Latency : Operating Systems" />
    <meta name="twitter:description" content="Introduction TODO: should this blog be about real-time control or on latency with a focus on robotics (motivation section)? Robotic systems tend to be controlled in real-time, which means that a command gets executed within a deadline (fixed period of time). There are hard real-time systems that can never exceed" />
    <meta name="twitter:url" content="https://ennerf.github.io/2016/08/24/Latency-Operating-Systems.html" />
    
    <script type="application/ld+json">
null
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="Software for Robots" href="https://ennerf.github.io/rss/" />
</head>
<body class="post-template tag-j-Hiccup tag-Latency tag-Sleep tag-Operating-System tag-Windows tag-OSX tag-Ubuntu tag-Scientific-Linux tag-Real-Time tag-Control">

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdate" href="http://outdatedbrowser.com/">Update my browser now</a></p>
</div>

<nav class="top-bar hide-for-large-up" data-topbar style="background: none">
  <ul class="title-area">
    <li class="name">

    </li>
    <li class="home"><a class="fi-home" href="https://ennerf.github.io"></a></li>
    <li class="toggle-topbar"><a href="#" id="trigger-overlay" class="fi-list"></a></li>
  </ul>

<div class="overlay overlay-scale">
    <button type="button" class="overlay-close">Close</button>
    <nav>
        <ul>
            <li><a href="https://ennerf.github.io">Home</a></li>
        </ul>
    </nav>
</div>

</nav>

<div class="row">

<div class="small-16 medium-16 large-4 columns right head-area bgimage" style="background-image: url(https://raw.githubusercontent.com/ennerf/ennerf.github.io/master/images/cover-image.jpg)">

<header class="site-head">
    <div class="vertical">
        <div class="site-head-content inner">
            <ul class="side-nav blog-menu show-for-large-up">
                <li><a class="fi-home" href="https://ennerf.github.io"></a></li>
                <li><a class="fi-torso" href="https://ennerf.github.io/about"></a></li>
                <li><a class="fi-mail" href="https://ennerf.github.io/contact"></a></li>
            </ul>
            <a class="blog-logo" href="https://ennerf.github.io"><img alt="Software for Robots" src="https://raw.githubusercontent.com/ennerf/ennerf.github.io/master/images/cover-image.jpg" alt="Blog Logo" /></a>
            <h1 class="blog-title">Software for Robots</h1>
            <hr>
            <p class="blog-description">Real-Time Control, Networking, Operating Systems, Languages</p>
            <div class="blog-network">
<!--                 <a href="#" class="fi-social-pinterest"></a>
                <a href="#" class="fi-social-linkedin"></a>
                <a href="#" class="fi-social-behance"></a>
                <a href="#" class="fi-social-deviant-art"></a>
                <a href="#" class="fi-social-dribbble"></a>
                <a href="#" class="fi-social-flickr"></a>
                <a href="#" class="fi-social-github"></a>
                <a href="#" class="fi-social-skype"></a>
                <a href="#" class="fi-social-snapchat"></a>
                <a href="#" class="fi-social-steam"></a>
                <a href="#" class="fi-social-xbox"></a>
                <a href="#" class="fi-social-reddit"></a> -->
                  <a href="https://github.com/ennerf" class="fi-social-github"></a>
            </div>
        </div>
    </div>
</header>

</div>


<div class="small-16 medium-16 large-12 columns main-column left">
    

<main class="content" role="main">

    <article class="post tag-j-Hiccup tag-Latency tag-Sleep tag-Operating-System tag-Windows tag-OSX tag-Ubuntu tag-Scientific-Linux tag-Real-Time tag-Control">


            <h1 class="post-title">Latency : Operating Systems</h1>

            <span class="post-meta label"><time datetime="2016-08-24">24 Aug 2016</time></span>

            <section class="post-content">
                <div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
TODO: should this blog be about real-time control or on latency with a focus on robotics (motivation section)?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Robotic systems tend to be controlled in <em>real-time</em>, which means that a command gets executed within a <em>deadline</em> (fixed period of time). There are <em>hard real-time</em> systems that can never exceed the given deadline, and <em>soft real-time</em> systems that are able to occasionally handle reasonable outliers.</p>
</div>
<div class="paragraph">
<p>Although there is a lot of information on the theoretial definition of these terms, it can be challenging to determine reasonable deadlines for a practical application. This is especially true for research environments that build unique mechanisms.</p>
</div>
<div class="paragraph">
<p>Unfortunately, the control scheme is a systemic concern that can impact the entire system architecture. This can be very difficult to change later on, so there is a tendency towards high requirements with regards to determinism. However, requirements that are too high can result in significant development efforts that may not yield any benefits in the real world.</p>
</div>
<div class="paragraph">
<p>There is also a lot of folklore about the reliablity and performance of various components. I have been in countless debates where people have tried to convince me that a proposed system has no chance of working, not knowing that it had already been implemented and been running without issues. This is partly because there is very little useful data on latency out there. Most benchmarks focus only on throughput, and some that do include latency were measured incorrectly.</p>
</div>
<div class="paragraph">
<p>Over a series of blog posts, I&#8217;ll try to share some my own experiences and data sets. Today&#8217;s post will focus on operating systems.</p>
</div>
<div class="sect2">
<h3 id="_measuring_latency">Measuring Latency</h3>
<div class="paragraph">
<p>The first important realization when looking at latency is that data is not normally (Gaussian) distributed. I have seen many data sets where the worst observed case was more than 1000 standard deviations away from the mean. Looking at only the mean and standard deviation tends to provide an extremely optimistic view that can be misleading.</p>
</div>
<div class="paragraph">
<p>A better way to look at latency is via histograms and percentile plots, e.g., 99.9% of measurements have been below Xms. Since there are already several blog posts and videos about recording latency, I&#8217;d encourage you to refer to the links below for more information,</p>
</div>
<div class="paragraph">
<p><a href="http://psy-lob-saw.blogspot.com/2015/02/hdrhistogram-better-latency-capture.htm">Nitsan Wakart</a></p>
</div>
<div class="paragraph">
<p><a href="http://latencytipoftheday.blogspot.com/">Gil Tene</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_operating_systems">Operating Systems</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The operating system is the base of everything. No matter how amazing the software stack is, the system is fundamentally bound by the capabilities of the OS, it&#8217;s scheduler, and the overall load on the system.</p>
</div>
<div class="paragraph">
<p>There is a trade-off between responding in a timely manner and overall performance, battery life, and many other concerns. As a result, the major consumer operating systems don&#8217;t guarantee to meet hard deadlines and can theoretically have arbitrarily long pauses.</p>
</div>
<div class="paragraph">
<p>However, before dismissing consumer OS for real-time control systems, it is worth looking at their actual performance. Even though there are no theoretical guarantees, the practical performance may be good enough for many applications.</p>
</div>
<div class="sect2">
<h3 id="_benchmark_setup">Benchmark Setup</h3>
<div class="paragraph">
<p><a href="https://www.azul.com">Azul Systems</a> sells products targeted at latency critical applications and they have created a variety of useful tools to measure latency. <a href="https://www.azul.com/jhiccup/">jHiccup</a> is a tool that allows us to measure and record hiccups (~jitter) at the OS level. By running it on an idle system, we can measure the best case scenario. It uses <a href="https://github.com/HdrHistogram/HdrHistogram">HdrHistogram</a> for the actual recording of samples. Lastly, I&#8217;m using <a href="https://github.com/ennerf/HdrHistogramVisualizer">HdrHistogramVisualizer</a> which is a tool that I&#8217;ve written for visualizing the recorded data.</p>
</div>
<div class="paragraph">
<p>Hiccups can be caused by a large number of reasons, including scheduling, paging, indexing, and many more. jHiccup measures the time for sleep(1ms) and records the delta to the fastest previously recorded sample. For example, if the fastest sample was 1ms, but it took 3ms to wake up, it will record a 2ms hiccup value.</p>
</div>
<div class="paragraph">
<p>I&#8217;ve setup two standard desktop computers, one for Windows/Linux and one for Mac tests.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Windows/Linux</dt>
<dd>
<p>Gigabyte Brix BXi7-4770R, i7-4770R @ 3.2 GHz, 16 GB 1600 MHz DDR3</p>
</dd>
<dt class="hdlist1">Mac</dt>
<dd>
<p>Mac Mini 2014, i7-3720QM @ 2.6 GHz, 16 GB 1600 MHz DDR3</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_windows_mac_linux">Windows / Mac / Linux</h3>
<div class="paragraph">
<p>Let&#8217;s first look at the performance of consumer operating systems: Windows, Mac and Linux. Each test started off with a clean install for each OS. The only two modifications to the stock installation were to disable sleep mode and to install JDK8 (update 101) to run jHiccup. I then started the test, unplugged all external cables and let the computer sit 'idle' for &gt;24 hours.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Windows</dt>
<dd>
<p>Windows 10 Enterprise, version 1511 (OS build: 10586.545)</p>
</dd>
<dt class="hdlist1">Mac</dt>
<dd>
<p>OS X, version 10.9.5</p>
</dd>
<dt class="hdlist1">Linux</dt>
<dd>
<p>Ubuntu 16.04 Desktop, kernel 4.4.0-31-generic</p>
</dd>
<dt class="hdlist1">RT Linux</dt>
<dd>
<p>Scientific Linux 6.6, kernel 3.10.0-327.rt56.194.el6rt.x86_64</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The charts below are split into two sections. The top one shows the worst hiccup that occured within given time intervals. The bottom one shows the percentiles of all measurements across the entire duration.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="/images/os/osx-win-ubuntu_24h.png"><img src="https://ennerf.github.io/images/os/osx-win-ubuntu_24h.png" alt="osx windows ubuntu latency over 24 hours"></a>
</div>
</div>
<div class="paragraph">
<p>Up to the 90th percentile all three systems respond relatively similarly.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Samples</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mean</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>StdDev</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Max</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>(max-mean) /stddev</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Windows 10</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">80,304,595</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.55 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17.17 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">44.9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OSX 10.9.5</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65,282,969</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.32 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.65 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">411</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ubuntu 16.04</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">78,039,162</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.03 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">293</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scientific Linux 6.6-rt</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">79.753.643</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.08 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.15 ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
</tbody>
</table>
<div class="imageblock">
<div class="content">
<a class="image" href="/images/os/osx-win-ubuntu_10m.png"><img src="https://ennerf.github.io/images/os/osx-win-ubuntu_10m.png" alt="osx windows ubuntu latency over 10 minutes"></a>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_real_time_linux">Real Time Linux</h3>
<div class="paragraph">
<p>Now that we have a better understanding of how traditional systems without tuning perform, let&#8217;s take a look at the performance of Linux with a real-time kernel. The rt kernel (PREEMPT_RT patch) can preempt lower priority tasks, which results in worse overall performance, but more deterministic behavior with respect to latency.</p>
</div>
<div class="paragraph">
<p>I&#8217;ve chosen Scientific Linux 6.6 because of it&#8217;s support for <a href="https://access.redhat.com/products/red-hat-enterprise-mrg-realtime">Red Hat&#174; Enterprise MRG Realtime&#174;</a>. You can download the ISO via <a href="http://ftp.scientificlinux.org/linux/scientific/">FTP</a> and find instructions for installing MRG Realtime <a href="http://linux.web.cern.ch/linux/mrg/">here</a>. I&#8217;ve also applied a small list of general system tweaks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>/boot/grub/menu.lst</em> &#8658; <em>transparent_hugepage=never</em></p>
</li>
<li>
<p><em>/etc/sysctl.conf</em> &#8658; <em>vm.swappiness=0</em></p>
</li>
<li>
<p><em>/etc/inittab</em> &#8658; <em>id:3:initdefault</em> (no GUI)</p>
</li>
<li>
<p><em>chkconfig --level 0123456 cpuspeed off</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I&#8217;m not very familiar with tuning systems at this level, so I&#8217;m probably missing a few things. There are various tuning guides, e.g., Red Hat&#8217;s <a href="http://linux.web.cern.ch/linux/mrg/2.3/Red_Hat_Enterprise_MRG-2-Realtime_Tuning_Guide-en-US.pdf">MRG Realtime Tuning Guide</a>, that can provide more information. The process priority was set to 98, which is for high priority real-time threads (see <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_MRG/2/html/Realtime_Tuning_Guide/chap-Realtime-Specific_Tuning.html#Setting_scheduler_priorities">setting scheduler priorities</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell"># find process id
pid=$(pgrep -f "[j]Hiccup.jar")

# show current priority
echo $(chrt -p $pid)

# set priority
sudo chrt -p 98 $pid</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="/images/os/ubuntu-scl_24h.png"><img src="https://ennerf.github.io/images/os/ubuntu-scl_24h.png" alt="ubuntu scientific linux latency over 24 hours"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="/images/os/ubuntu-scl_10m.png"><img src="https://ennerf.github.io/images/os/ubuntu-scl_10m.png" alt="ubuntu scientific linux latency over 10 minutes"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="/images/os/scl_24h.png"><img src="https://ennerf.github.io/images/os/scl_24h.png" alt="scientific linux latency over 24 hours"></a>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It&#8217;s easy to do 100 Hz control in just about any OS. 1KHz hard real-time requires lots of tuning. Rates are highly dependent on the application. Hard to generalize.</p>
</div>
</div>
</div>
                        <aside class="tags fi-pricetag-multiple">Posted on <a href="https://ennerf.github.io/tag/j-Hiccup/">jHiccup</a>, <a href="https://ennerf.github.io/tag/Latency/"> Latency</a>, <a href="https://ennerf.github.io/tag/Sleep/"> Sleep</a>, <a href="https://ennerf.github.io/tag/Operating-System/"> Operating System</a>, <a href="https://ennerf.github.io/tag/Windows/"> Windows</a>, <a href="https://ennerf.github.io/tag/OSX/"> OSX</a>, <a href="https://ennerf.github.io/tag/Ubuntu/"> Ubuntu</a>, <a href="https://ennerf.github.io/tag/Scientific-Linux/"> Scientific Linux</a>, <a href="https://ennerf.github.io/tag/Real-Time/"> Real-Time</a>, <a href="https://ennerf.github.io/tag/Control/"> Control</a></aside>
            </section>
            <hr>
            <footer class="post-footer">

                <section class="share">
                    <h4>Liked this post ? Share it.</h4>
                    <a class="fi-social-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://ennerf.github.io/2016/08/24/Latency-Operating-Systems.html"
                        onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    </a>
                    <a class="fi-social-twitter" href="https://twitter.com/share?text=Latency%20%3A%20Operating%20Systems&amp;url=https://ennerf.github.io/2016/08/24/Latency-Operating-Systems.html"
                        onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    </a>
                    <a class="fi-social-google-plus" href="https://plus.google.com/share?url=https://ennerf.github.io/2016/08/24/Latency-Operating-Systems.html"
                       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    </a>
                </section>

                <section class="author">
                    <header>
                        <span>About the author</span>
                    </header>
                    <section>
                        <h4>Florian Enner</h4>
                        <img src="https://avatars.githubusercontent.com/u/5491587?v&#x3D;3">
                        <span>Pittsburgh</span>
                        <a href="http://www.hebi.us">http://www.hebi.us</a>
                    </section>
                    <footer>
                         <p></p>
                    </footer>
                </section>

        <div class="clearfix"></div>
                    <hr>

            </footer>

        <h3 class="title-disqus"><span class="fi-comments"></span>Discussions</h3>




        <section class="post-comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          var disqus_shortname = 'ennerf'; // required: replace example with your forum shortname
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </section>


    </article>

</main>

</div>

</div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>

    <!--[if lte IE 8]>
        <script type="text/javascript" src="//ennerf.github.io/themes/ichi/assets/js/outdatedBrowser.min.js?v=1472263514129"></script>
    <![endif]-->
    <script type="text/javascript" src="//ennerf.github.io/themes/ichi/assets/js/min/built.js?v=1472263514129"></script>

    <script>
      $(document).foundation();
    </script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83018359-1', 'auto');
    ga('send', 'pageview');

    </script>
</body>
</html>
